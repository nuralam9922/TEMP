<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LumaLab X — Pro LED Web IDE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/show-hint.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="h-full">
    <noscript>
      <div class="fallback-banner">JavaScript is required. Please enable JavaScript and refresh.</div>
    </noscript>

    <main id="app" class="app-shell">
      <header class="topbar">
        <div>
          <p class="eyebrow">Ultimate single-window webapp workspace</p>
          <h1>LumaLab X</h1>
        </div>
        <div class="top-actions">
          <span id="runtimeStatus" class="pill idle">Idle</span>
          <span id="loopRate" class="pill">0 loops/s</span>
          <span id="cacheStatus" class="pill">Cache ready</span>
          <button id="themeToggleBtn" class="btn">Theme</button>
          <button id="runBtn" class="btn btn-primary">Run</button>
          <button id="stopBtn" class="btn">Stop</button>
        </div>
      </header>

      <div id="globalFallback" class="fallback-banner hidden" role="alert">
        <span id="fallbackMessage">Recoverable error detected.</span>
        <button id="recoverBtn" class="btn">Recover</button>
      </div>

      <section class="workspace-grid">
        <section id="leftPane" class="pane left-pane">
          <div class="toolbar">
            <select id="presetSelect"></select>
            <button id="loadPresetBtn" class="btn">Load</button>
            <button id="saveDraftBtn" class="btn">Save</button>
            <button id="formatCodeBtn" class="btn">Format</button>
            <button id="exportDraftBtn" class="btn">Export</button>
            <button id="importDraftBtn" class="btn">Import</button>
            <input id="importDraftFile" type="file" accept=".txt,.ino,.js" class="hidden" />
          </div>

          <div id="snippetToolbar" class="snippet-toolbar"></div>

          <div id="editorPanel" class="editor-panel"></div>

          <div id="consoleResize" class="drag-handle horizontal"></div>

          <section class="console-panel">
            <div class="console-head">
              <span>Logs</span>
              <button id="clearConsoleBtn" class="btn">Clear</button>
              <span id="cursorStatus" class="pill">Ln 1, Col 1</span>
            </div>
            <pre id="console"></pre>
          </section>
        </section>

        <div id="shellResize" class="drag-handle vertical"></div>

        <section id="rightPane" class="pane right-pane">
          <section class="sim-panel">
            <div class="sim-head">
              <h2>LED Simulator</h2>
              <div class="sim-controls">
                <label>LEDs <input id="ledCount" type="range" min="6" max="30" value="12" /></label>
                <span id="ledCountValue" class="pill">12</span>
                <button id="resetBtn" class="btn">Reset</button>
              </div>
            </div>
            <div class="stats-grid">
              <article><h3 id="litCount">0</h3><p>Lit LEDs</p></article>
              <article><h3 id="avgBrightness">0%</h3><p>Brightness</p></article>
              <article><h3 id="loopCounter">0</h3><p>Loop cycles</p></article>
            </div>
            <div id="ledStrip" class="led-strip"></div>
          </section>

          <section class="help-panel">
            <div class="help-head">
              <h2>API / Help</h2>
              <input id="apiSearch" type="search" placeholder="Search APIs" />
            </div>
            <div id="apiList" class="api-list"></div>
            <p class="help-note">Shortcuts: Ctrl/Cmd+Enter Run · Ctrl/Cmd+S Save · Ctrl/Cmd+Space Suggest</p>
          </section>
        </section>
      </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/comment/comment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/javascript-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.15.1/beautify.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
